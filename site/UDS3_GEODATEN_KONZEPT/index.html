
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Einheitliche UDS3 Doku mit API-Referenz und Leitfäden">
      
      
      
        <link rel="canonical" href="https://makr-code.github.io/VCC-UDS3/UDS3_GEODATEN_KONZEPT/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Geodaten/Metadaten Integration in UDS3 - VCC UDS3 Dokumentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#geodatenmetadaten-integration-in-uds3" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Kopfzeile">
    <a href=".." title="VCC UDS3 Dokumentation" class="md-header__button md-logo" aria-label="VCC UDS3 Dokumentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            VCC UDS3 Dokumentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Geodaten/Metadaten Integration in UDS3
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" title="Zurücksetzen" aria-label="Zurücksetzen" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/makr-code/VCC-UDS3" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    makr-code/VCC-UDS3
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Hauptnavigation" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../index.md" class="md-tabs__link">
        
  
  
    
  
  Start

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../api/" class="md-tabs__link">
          
  
  
  API-Referenz

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="VCC UDS3 Dokumentation" class="md-nav__button md-logo" aria-label="VCC UDS3 Dokumentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    VCC UDS3 Dokumentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/makr-code/VCC-UDS3" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    makr-code/VCC-UDS3
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API-Referenz
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API-Referenz
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Übersicht
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#konzept-fur-geografische-und-meta-datenbank-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Konzept für geografische und Meta-Datenbank-Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-architektur-ubersicht" class="md-nav__link">
    <span class="md-ellipsis">
      1. Architektur-Übersicht
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Architektur-Übersicht">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-bestehende-uds3-struktur-analyse" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Bestehende UDS3-Struktur (Analyse)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-geodaten-integration-erweiterte-architektur" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Geodaten-Integration: Erweiterte Architektur
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-geodaten-datenmodell" class="md-nav__link">
    <span class="md-ellipsis">
      2. Geodaten-Datenmodell
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Geodaten-Datenmodell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-erweiterte-uds3-schemas-mit-geodaten" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Erweiterte UDS3-Schemas mit Geodaten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-metadatenbank-erweiterung" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Metadatenbank-Erweiterung
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-implementierung" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implementierung
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Implementierung">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-uds3-geo-extension-module" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 UDS3 Geo-Extension Module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-database-backend-erweiterungen" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Database Backend Erweiterungen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-uds3-core-integration" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 UDS3 Core Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-anwendungsfalle-und-nutzen" class="md-nav__link">
    <span class="md-ellipsis">
      4. Anwendungsfälle und Nutzen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Anwendungsfälle und Nutzen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-legal-tech-anwendungen" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Legal Tech Anwendungen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-datenqualitat-und-metadatenbanken" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 Datenqualität und Metadatenbanken
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-performance-und-skalierung" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Performance und Skalierung
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-implementierungsroadmap" class="md-nav__link">
    <span class="md-ellipsis">
      5. Implementierungsroadmap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Implementierungsroadmap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-grundlagen-wochen-1-2" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Grundlagen (Wochen 1-2)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-integration-wochen-3-4" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Integration (Wochen 3-4)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-features-wochen-5-6" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Features (Wochen 5-6)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-optimierung-wochen-7-8" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Optimierung (Wochen 7-8)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-technische-anforderungen" class="md-nav__link">
    <span class="md-ellipsis">
      6. Technische Anforderungen
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Technische Anforderungen">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#software-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Software-Dependencies:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Database-Setup:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-server_configjson" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration (server_config.json):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/makr-code/VCC-UDS3/edit/master/docs/UDS3_GEODATEN_KONZEPT.md" title="Seite editieren" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="geodatenmetadaten-integration-in-uds3">Geodaten/Metadaten Integration in UDS3<a class="headerlink" href="#geodatenmetadaten-integration-in-uds3" title="Permanent link">&para;</a></h1>
<h2 id="konzept-fur-geografische-und-meta-datenbank-integration">Konzept für geografische und Meta-Datenbank-Integration<a class="headerlink" href="#konzept-fur-geografische-und-meta-datenbank-integration" title="Permanent link">&para;</a></h2>
<p>Stand: 22. August 2025</p>
<h2 id="1-architektur-ubersicht">1. Architektur-Übersicht<a class="headerlink" href="#1-architektur-ubersicht" title="Permanent link">&para;</a></h2>
<h3 id="11-bestehende-uds3-struktur-analyse">1.1 Bestehende UDS3-Struktur (Analyse)<a class="headerlink" href="#11-bestehende-uds3-struktur-analyse" title="Permanent link">&para;</a></h3>
<p>Das aktuelle UDS3-System implementiert bereits eine Multi-Database-Architektur:</p>
<p><strong>Datenbankrollen:</strong>
- <strong>Vector DB (ChromaDB/Pinecone):</strong> Semantische Suche über alle Dokumenttypen
- <strong>Graph DB (Neo4j/ArangoDB):</strong> Normenhierarchien, Verwaltungsverfahren, Behördenstrukturen
- <strong>Relational DB (SQLite/PostgreSQL):</strong> Metadaten, Fristen, Verfahrensstatus, Compliance</p>
<h3 id="12-geodaten-integration-erweiterte-architektur">1.2 Geodaten-Integration: Erweiterte Architektur<a class="headerlink" href="#12-geodaten-integration-erweiterte-architektur" title="Permanent link">&para;</a></h3>
<pre><code>┌─────────────────────────────────────────────────────────────┐
│                    UDS3 + GEO Extension                     │
├─────────────────────────────────────────────────────────────┤
│  Vector DB        │  Graph DB         │  Relational DB      │
│  (Semantik)       │  (Beziehungen)    │  (Metadaten)        │
│  ─────────────    │  ─────────────    │  ─────────────      │
│  • ChromaDB       │  • Neo4j          │  • PostgreSQL       │
│  • Embeddings     │  • Verwaltung     │  • Structured Data  │
│  • Similarity     │  • Hierarchien    │  • ACID Garantien   │
└─────────────────────────────────────────────────────────────┘
                              │
                    ┌─────────┴─────────┐
                    │   GEO Extension   │
                    └─────────┬─────────┘
┌─────────────────────────────┼─────────────────────────────┐
│            GEODATEN-LAYER (Neu)                          │
├─────────────────────────────┼─────────────────────────────┤
│  PostGIS           │  Neo4j Spatial   │  Vector Geo       │
│  (Geo-Relational) │  (Geo-Graph)      │  (Geo-Semantic)   │
│  ─────────────     │  ─────────────    │  ─────────────    │
│  • Geometrien      │  • Räumliche      │  • Geo-Embeddings │
│  • Topologien      │    Beziehungen    │  • Spatial Search │
│  • Koordinaten     │  • Routing        │  • Location Vec   │
└─────────────────────────────────────────────────────────────┘
</code></pre>
<h2 id="2-geodaten-datenmodell">2. Geodaten-Datenmodell<a class="headerlink" href="#2-geodaten-datenmodell" title="Permanent link">&para;</a></h2>
<h3 id="21-erweiterte-uds3-schemas-mit-geodaten">2.1 Erweiterte UDS3-Schemas mit Geodaten<a class="headerlink" href="#21-erweiterte-uds3-schemas-mit-geodaten" title="Permanent link">&para;</a></h3>
<p><strong>A) Relational DB (PostgreSQL + PostGIS):</strong></p>
<pre><code class="language-sql">-- Erweiterte documents-Tabelle
CREATE TABLE documents (
    -- Bestehende UDS3-Felder
    id VARCHAR(64) PRIMARY KEY,
    title VARCHAR(500) NOT NULL,
    file_path VARCHAR(1000),
    content_preview TEXT,
    rechtsgebiet VARCHAR(200),
    gericht VARCHAR(200),
    aktenzeichen VARCHAR(200),

    -- NEUE GEODATEN-FELDER
    location_point GEOMETRY(POINT, 4326),          -- Punkt-Koordinaten
    location_polygon GEOMETRY(POLYGON, 4326),      -- Flächen (Grundstücke, Bezirke)
    location_linestring GEOMETRY(LINESTRING, 4326), -- Linien (Straßen, Grenzen)
    administrative_level INTEGER,                   -- Verwaltungsebene (Bund=1, Land=2, etc.)
    postal_code VARCHAR(10),                        -- PLZ für schnelle Suche
    municipality VARCHAR(100),                      -- Gemeinde/Stadt
    district VARCHAR(100),                          -- Landkreis/Bezirk
    state VARCHAR(50),                             -- Bundesland
    country VARCHAR(50) DEFAULT 'Deutschland',     -- Land

    -- Geo-Metadaten
    coordinate_system VARCHAR(20) DEFAULT 'EPSG:4326', -- Koordinatensystem
    location_accuracy INTEGER,                      -- Genauigkeit in Metern
    location_source VARCHAR(100),                   -- Quelle der Geodaten
    geo_quality_score DECIMAL(3,2)                 -- Qualitätsscore 0.00-1.00
);

-- Spatial Index für Performance
CREATE INDEX idx_documents_location_point ON documents USING GIST (location_point);
CREATE INDEX idx_documents_location_polygon ON documents USING GIST (location_polygon);

-- Administrative Gebiete (Master Data)
CREATE TABLE administrative_areas (
    id VARCHAR(20) PRIMARY KEY,              -- AGS (Amtlicher Gemeindeschlüssel)
    name VARCHAR(200) NOT NULL,
    area_type VARCHAR(50),                   -- 'bund', 'land', 'kreis', 'gemeinde'
    parent_id VARCHAR(20),                   -- Hierarchie
    geometry GEOMETRY(MULTIPOLYGON, 4326),  -- Gebietsgrenzen
    population INTEGER,
    area_km2 DECIMAL(10,2),
    FOREIGN KEY (parent_id) REFERENCES administrative_areas(id)
);

-- Geo-Indizierung für Behörden/Gerichte
CREATE TABLE institutions_geo (
    institution_id VARCHAR(64) PRIMARY KEY,
    institution_name VARCHAR(200),
    institution_type VARCHAR(50),           -- 'gericht', 'behoerde', 'ministerium'
    address TEXT,
    location GEOMETRY(POINT, 4326),
    jurisdiction_area GEOMETRY(MULTIPOLYGON, 4326), -- Zuständigkeitsbereich
    administrative_area_id VARCHAR(20),
    FOREIGN KEY (administrative_area_id) REFERENCES administrative_areas(id)
);
</code></pre>
<p><strong>B) Graph DB (Neo4j + Spatial):</strong></p>
<pre><code class="language-cypher">-- Geo-Knoten und Beziehungen
CREATE (doc:Document {
    id: &quot;doc_12345&quot;,
    title: &quot;Baugenehmigung Hauptstraße 1&quot;,
    latitude: 52.5200,
    longitude: 13.4050,
    administrative_level: 3
})

CREATE (area:AdministrativeArea {
    ags: &quot;11000000&quot;,
    name: &quot;Berlin&quot;,
    type: &quot;land&quot;,
    geometry: &quot;POLYGON(...)&quot;
})

CREATE (court:Institution {
    name: &quot;VG Berlin&quot;,
    type: &quot;gericht&quot;,
    latitude: 52.5170,
    longitude: 13.3888
})

-- Räumliche Beziehungen
CREATE (doc)-[:LOCATED_IN]-&gt;(area)
CREATE (doc)-[:UNDER_JURISDICTION_OF]-&gt;(court)
CREATE (court)-[:COVERS_AREA]-&gt;(area)

-- Spatial-Index in Neo4j
CREATE INDEX spatial_documents FOR (n:Document) ON (n.latitude, n.longitude)
</code></pre>
<p><strong>C) Vector DB (ChromaDB mit Geo-Embeddings):</strong></p>
<pre><code class="language-python"># Erweiterte Metadaten für ChromaDB
geo_metadata = {
    &quot;document_id&quot;: &quot;doc_12345&quot;,
    &quot;location_lat&quot;: 52.5200,
    &quot;location_lng&quot;: 13.4050,
    &quot;administrative_areas&quot;: [&quot;Berlin&quot;, &quot;Mitte&quot;, &quot;Deutschland&quot;],
    &quot;geo_tags&quot;: [&quot;urban&quot;, &quot;hauptstadt&quot;, &quot;zentral&quot;],
    &quot;spatial_context&quot;: &quot;berlin_city_center&quot;,
    &quot;geo_quality&quot;: 0.95
}

# Geo-enhanced Embeddings (Text + Geo-Kontext)
text_content = &quot;Baugenehmigung für Wohngebäude in Berlin-Mitte&quot;
geo_context = &quot;Berlin, Deutschland, Hauptstadt, Urban, Zentral&quot;
combined_text = f&quot;{text_content} [GEO: {geo_context}]&quot;
</code></pre>
<h3 id="22-metadatenbank-erweiterung">2.2 Metadatenbank-Erweiterung<a class="headerlink" href="#22-metadatenbank-erweiterung" title="Permanent link">&para;</a></h3>
<p><strong>Erweiterte Metadaten-Typen:</strong></p>
<pre><code class="language-python"># Neue Metadaten-Kategorien in UDS3
class MetadataType(Enum):
    # Bestehende
    LEGAL = &quot;legal&quot;
    ADMINISTRATIVE = &quot;administrative&quot; 
    TEMPORAL = &quot;temporal&quot;

    # NEUE GEODATEN-METADATEN
    GEOGRAPHIC = &quot;geographic&quot;
    SPATIAL_REFERENCE = &quot;spatial_reference&quot;
    ADMINISTRATIVE_GEOGRAPHY = &quot;administrative_geography&quot;
    TOPOLOGICAL = &quot;topological&quot;

    # ERWEITERTE METADATENBANKEN
    BIBLIOGRAPHIC = &quot;bibliographic&quot;      # Bibliothekswesen
    SEMANTIC_WEB = &quot;semantic_web&quot;        # RDF/OWL Ontologien
    PROVENANCE = &quot;provenance&quot;            # Datenherkunft
    QUALITY_METRICS = &quot;quality_metrics&quot;  # Datenqualität
    USAGE_ANALYTICS = &quot;usage_analytics&quot;  # Nutzungsstatistiken
</code></pre>
<h2 id="3-implementierung">3. Implementierung<a class="headerlink" href="#3-implementierung" title="Permanent link">&para;</a></h2>
<h3 id="31-uds3-geo-extension-module">3.1 UDS3 Geo-Extension Module<a class="headerlink" href="#31-uds3-geo-extension-module" title="Permanent link">&para;</a></h3>
<pre><code class="language-python">#!/usr/bin/env python3
&quot;&quot;&quot;
uds3_geo_extension.py - Geodaten-Erweiterung für UDS3
&quot;&quot;&quot;

from dataclasses import dataclass
from typing import Optional, List, Tuple, Dict
import json
from shapely.geometry import Point, Polygon, LineString
from geopy.geocoders import Nominatim
import logging

@dataclass
class GeoLocation:
    &quot;&quot;&quot;Standardisierte Geo-Location für UDS3&quot;&quot;&quot;
    latitude: float
    longitude: float
    altitude: Optional[float] = None
    accuracy_meters: Optional[int] = None
    coordinate_system: str = &quot;EPSG:4326&quot;
    source: Optional[str] = None
    quality_score: Optional[float] = None

@dataclass
class AdministrativeArea:
    &quot;&quot;&quot;Verwaltungsgebiet mit Geodaten&quot;&quot;&quot;
    ags: str                    # Amtlicher Gemeindeschlüssel
    name: str
    area_type: str             # bund, land, kreis, gemeinde
    parent_ags: Optional[str]
    population: Optional[int]
    area_km2: Optional[float]
    geometry: Optional[str]    # WKT-Format

class UDS3GeoManager:
    &quot;&quot;&quot;
    Geodaten-Manager für UDS3 Integration
    &quot;&quot;&quot;

    def __init__(self, uds3_core, postgis_connection=None):
        self.uds3 = uds3_core
        self.postgis = postgis_connection
        self.geocoder = Nominatim(user_agent=&quot;uds3-geo-extension&quot;)
        self.logger = logging.getLogger(__name__)

    def extract_location_from_document(self, document: Dict) -&gt; Optional[GeoLocation]:
        &quot;&quot;&quot;
        Extrahiert Geo-Informationen aus Dokumententext

        Strategien:
        1. Explizite Koordinaten
        2. Adressen (mit Geocoding)
        3. Ortsnamen
        4. Postleitzahlen
        5. Gerichts-/Behördenzuordnung
        &quot;&quot;&quot;

        content = document.get('content', '')
        title = document.get('title', '')

        # 1. Koordinaten direkt extrahieren
        location = self._extract_coordinates(content + ' ' + title)
        if location:
            return location

        # 2. Adressen geocodieren
        addresses = self._extract_addresses(content + ' ' + title)
        for address in addresses:
            location = self._geocode_address(address)
            if location:
                return location

        # 3. Gerichts-/Behördenzuordnung
        institution = document.get('gericht') or document.get('behoerde')
        if institution:
            return self._get_institution_location(institution)

        return None

    def add_geo_metadata(self, document_id: str, location: GeoLocation, 
                        administrative_areas: List[str] = None) -&gt; bool:
        &quot;&quot;&quot;Fügt Geodaten zu einem UDS3-Dokument hinzu&quot;&quot;&quot;

        try:
            # Relational DB: PostGIS Update
            if self.postgis:
                self._update_postgis_location(document_id, location)

            # Graph DB: Geo-Beziehungen
            if self.uds3.graph_backend:
                self._create_geo_relationships(document_id, location, administrative_areas)

            # Vector DB: Geo-Context in Embeddings
            if self.uds3.vector_backend:
                self._update_geo_embeddings(document_id, location, administrative_areas)

            return True

        except Exception as e:
            self.logger.error(f&quot;Error adding geo metadata: {e}&quot;)
            return False

    def spatial_search(self, center: GeoLocation, radius_km: float,
                      document_filters: Dict = None) -&gt; List[Dict]:
        &quot;&quot;&quot;
        Räumliche Suche nach Dokumenten

        Args:
            center: Mittelpunkt der Suche
            radius_km: Suchradius in Kilometern
            document_filters: Zusätzliche Filter (rechtsgebiet, etc.)
        &quot;&quot;&quot;

        if not self.postgis:
            return []

        # PostGIS Spatial Query
        query = &quot;&quot;&quot;
        SELECT d.*, ST_Distance_Sphere(d.location_point, ST_Point(%s, %s)) as distance_m
        FROM documents d
        WHERE ST_DWithin(
            d.location_point::geography, 
            ST_Point(%s, %s)::geography, 
            %s
        )
        ORDER BY distance_m
        &quot;&quot;&quot;

        params = [
            center.longitude, center.latitude,  # ST_Point Parameter
            center.longitude, center.latitude,  # ST_DWithin Parameter  
            radius_km * 1000  # Radius in Metern
        ]

        # Zusätzliche Filter
        if document_filters:
            filter_conditions = []
            for key, value in document_filters.items():
                filter_conditions.append(f&quot;d.{key} = %s&quot;)
                params.append(value)

            if filter_conditions:
                query = query.replace(&quot;ORDER BY&quot;, f&quot;AND {' AND '.join(filter_conditions)} ORDER BY&quot;)

        # Execute Query (Implementation abhängig von DB-Driver)
        results = self._execute_postgis_query(query, params)
        return results

    def get_administrative_hierarchy(self, document_id: str) -&gt; List[AdministrativeArea]:
        &quot;&quot;&quot;Ermittelt die vollständige Verwaltungshierarchie eines Dokuments&quot;&quot;&quot;

        # Von Gemeinde bis Bund
        hierarchy_query = &quot;&quot;&quot;
        WITH RECURSIVE admin_tree AS (
            -- Start mit dem Dokument
            SELECT aa.* FROM administrative_areas aa
            JOIN documents d ON ST_Within(d.location_point, aa.geometry)
            WHERE d.id = %s AND aa.area_type = 'gemeinde'

            UNION ALL

            -- Rekursiv nach oben
            SELECT parent.* FROM administrative_areas parent
            JOIN admin_tree child ON parent.id = child.parent_id
        )
        SELECT * FROM admin_tree ORDER BY 
            CASE area_type 
                WHEN 'gemeinde' THEN 4 
                WHEN 'kreis' THEN 3 
                WHEN 'land' THEN 2 
                WHEN 'bund' THEN 1 
            END
        &quot;&quot;&quot;

        return self._execute_postgis_query(hierarchy_query, [document_id])
</code></pre>
<h3 id="32-database-backend-erweiterungen">3.2 Database Backend Erweiterungen<a class="headerlink" href="#32-database-backend-erweiterungen" title="Permanent link">&para;</a></h3>
<p><strong>A) PostGIS Backend (database_api_postgis.py):</strong></p>
<pre><code class="language-python">from database_api_base import RelationalDatabaseBackend
import psycopg2
from psycopg2.extras import RealDictCursor

class PostGISBackend(RelationalDatabaseBackend):
    &quot;&quot;&quot;PostgreSQL + PostGIS Backend für Geodaten&quot;&quot;&quot;

    def __init__(self, config):
        super().__init__(config)
        self.connection = None

    def connect(self):
        &quot;&quot;&quot;Verbindung mit PostGIS-Extensions&quot;&quot;&quot;
        try:
            self.connection = psycopg2.connect(
                host=self.config.get('host', 'localhost'),
                database=self.config.get('database', 'uds3_geo'),
                user=self.config.get('user', 'postgres'),
                password=self.config.get('password', ''),
                cursor_factory=RealDictCursor
            )

            # PostGIS Extension aktivieren
            with self.connection.cursor() as cursor:
                cursor.execute(&quot;CREATE EXTENSION IF NOT EXISTS postgis;&quot;)
                cursor.execute(&quot;CREATE EXTENSION IF NOT EXISTS postgis_topology;&quot;)
                self.connection.commit()

            return True
        except Exception as e:
            self.logger.error(f&quot;PostGIS connection failed: {e}&quot;)
            return False

    def spatial_query(self, query: str, params: List = None) -&gt; List[Dict]:
        &quot;&quot;&quot;Führt räumliche Abfragen aus&quot;&quot;&quot;
        try:
            with self.connection.cursor() as cursor:
                cursor.execute(query, params or [])
                return cursor.fetchall()
        except Exception as e:
            self.logger.error(f&quot;Spatial query failed: {e}&quot;)
            return []

    def insert_with_geometry(self, table: str, data: Dict, 
                           geometry_field: str, wkt_geometry: str):
        &quot;&quot;&quot;Einfügen mit Geometrie-Daten&quot;&quot;&quot;

        fields = list(data.keys()) + [geometry_field]
        placeholders = ['%s'] * len(data) + [f'ST_GeomFromText(%s, 4326)']
        values = list(data.values()) + [wkt_geometry]

        query = f&quot;&quot;&quot;
        INSERT INTO {table} ({', '.join(fields)})
        VALUES ({', '.join(placeholders)})
        &quot;&quot;&quot;

        with self.connection.cursor() as cursor:
            cursor.execute(query, values)
            self.connection.commit()
</code></pre>
<p><strong>B) Neo4j Spatial Backend (Erweiterung):</strong></p>
<pre><code class="language-python"># Erweiterung von database_api_neo4j.py
def create_spatial_relationship(self, doc_id: str, location: GeoLocation, 
                              admin_areas: List[str]):
    &quot;&quot;&quot;Erstellt räumliche Beziehungen in Neo4j&quot;&quot;&quot;

    # Dokument-Knoten mit Geo-Properties
    cypher = &quot;&quot;&quot;
    MERGE (doc:Document {id: $doc_id})
    SET doc.latitude = $lat,
        doc.longitude = $lng,
        doc.geo_quality = $quality
    &quot;&quot;&quot;

    self.session.run(cypher, {
        'doc_id': doc_id,
        'lat': location.latitude,
        'lng': location.longitude,
        'quality': location.quality_score or 0.5
    })

    # Verbindungen zu Verwaltungsgebieten
    for area_name in admin_areas:
        cypher = &quot;&quot;&quot;
        MATCH (doc:Document {id: $doc_id})
        MERGE (area:AdministrativeArea {name: $area_name})
        MERGE (doc)-[:LOCATED_IN]-&gt;(area)
        &quot;&quot;&quot;
        self.session.run(cypher, {'doc_id': doc_id, 'area_name': area_name})

def spatial_search_neo4j(self, center_lat: float, center_lng: float, 
                        radius_km: float) -&gt; List[Dict]:
    &quot;&quot;&quot;Neo4j Spatial Search mit Haversine-Distanz&quot;&quot;&quot;

    cypher = &quot;&quot;&quot;
    MATCH (doc:Document)
    WHERE doc.latitude IS NOT NULL AND doc.longitude IS NOT NULL
    WITH doc, 
         point({latitude: doc.latitude, longitude: doc.longitude}) AS doc_point,
         point({latitude: $center_lat, longitude: $center_lng}) AS center_point
    WITH doc, distance(doc_point, center_point) AS distance_m
    WHERE distance_m &lt;= $radius_m
    RETURN doc, distance_m
    ORDER BY distance_m
    &quot;&quot;&quot;

    result = self.session.run(cypher, {
        'center_lat': center_lat,
        'center_lng': center_lng,
        'radius_m': radius_km * 1000
    })

    return [dict(record) for record in result]
</code></pre>
<h3 id="33-uds3-core-integration">3.3 UDS3 Core Integration<a class="headerlink" href="#33-uds3-core-integration" title="Permanent link">&para;</a></h3>
<p><strong>Erweiterte UDS3-Core Klasse:</strong></p>
<pre><code class="language-python"># Erweiterung in uds3_core.py

from uds3_geo_extension import UDS3GeoManager, GeoLocation

class UDS3CoreWithGeo(UDS3CoreSystem):
    &quot;&quot;&quot;UDS3 mit Geodaten-Unterstützung&quot;&quot;&quot;

    def __init__(self, config_path: str = None):
        super().__init__(config_path)

        # Geo-Manager initialisieren
        postgis_config = self.config.get('databases', {}).get('postgis', {})
        postgis_backend = None

        if postgis_config.get('enabled'):
            from database_api_postgis import PostGISBackend
            postgis_backend = PostGISBackend(postgis_config)
            postgis_backend.connect()

        self.geo_manager = UDS3GeoManager(self, postgis_backend)

    def store_document_with_geo(self, content: str, title: str, 
                               metadata: Dict, location: GeoLocation = None) -&gt; str:
        &quot;&quot;&quot;Speichert Dokument mit automatischer Geo-Extraktion&quot;&quot;&quot;

        # Standard UDS3 Speicherung
        doc_id = self.store_document(content, title, metadata)

        # Geo-Location automatisch extrahieren wenn nicht gegeben
        if not location:
            document = {'content': content, 'title': title, **metadata}
            location = self.geo_manager.extract_location_from_document(document)

        # Geodaten hinzufügen
        if location:
            admin_areas = self.geo_manager.get_administrative_hierarchy_by_location(location)
            area_names = [area.name for area in admin_areas]

            success = self.geo_manager.add_geo_metadata(doc_id, location, area_names)
            if success:
                self.logger.info(f&quot;Geo metadata added for document {doc_id}&quot;)

        return doc_id

    def search_by_location(self, center_lat: float, center_lng: float,
                          radius_km: float, additional_filters: Dict = None) -&gt; List[Dict]:
        &quot;&quot;&quot;Räumliche Dokumentensuche&quot;&quot;&quot;

        center = GeoLocation(center_lat, center_lng)
        return self.geo_manager.spatial_search(center, radius_km, additional_filters)

    def get_document_geography(self, doc_id: str) -&gt; Dict:
        &quot;&quot;&quot;Vollständige geografische Informationen eines Dokuments&quot;&quot;&quot;

        return {
            'location': self.geo_manager.get_document_location(doc_id),
            'administrative_hierarchy': self.geo_manager.get_administrative_hierarchy(doc_id),
            'nearby_institutions': self.geo_manager.get_nearby_institutions(doc_id, 10),
            'related_documents': self.search_by_location_of_document(doc_id, 5)
        }
</code></pre>
<h2 id="4-anwendungsfalle-und-nutzen">4. Anwendungsfälle und Nutzen<a class="headerlink" href="#4-anwendungsfalle-und-nutzen" title="Permanent link">&para;</a></h2>
<h3 id="41-legal-tech-anwendungen">4.1 Legal Tech Anwendungen<a class="headerlink" href="#41-legal-tech-anwendungen" title="Permanent link">&para;</a></h3>
<p><strong>A) Räumliche Rechtsprechungsanalyse:</strong></p>
<pre><code class="language-python"># Beispiel: Alle Baugenehmigungen im 5km Umkreis um ein Projekt
project_location = GeoLocation(52.5200, 13.4050)  # Berlin
building_permits = uds3.search_by_location(
    52.5200, 13.4050, 5.0,
    {'rechtsgebiet': 'Baurecht', 'dokumenttyp': 'Genehmigung'}
)
</code></pre>
<p><strong>B) Zuständigkeitsermittlung:</strong></p>
<pre><code class="language-python"># Welches Gericht ist für diese Koordinaten zuständig?
jurisdiction = uds3.geo_manager.get_jurisdiction(
    GeoLocation(51.3397, 12.3731)  # Leipzig
)
</code></pre>
<p><strong>C) Verwaltungsgeografie:</strong></p>
<pre><code class="language-python"># Vollständige Verwaltungshierarchie eines Falls
hierarchy = uds3.get_document_geography(&quot;case_12345&quot;)
# Ergebnis: [Bund -&gt; Sachsen -&gt; Leipzig -&gt; Mitte]
</code></pre>
<h3 id="42-datenqualitat-und-metadatenbanken">4.2 Datenqualität und Metadatenbanken<a class="headerlink" href="#42-datenqualitat-und-metadatenbanken" title="Permanent link">&para;</a></h3>
<p><strong>Erweiterte Metadaten-Pipeline:</strong></p>
<pre><code class="language-python">class EnhancedMetadataManager:
    &quot;&quot;&quot;Erweiterte Metadaten-Verwaltung für UDS3&quot;&quot;&quot;

    def __init__(self):
        self.metadata_schemas = {
            'dublin_core': DublinCoreSchema(),
            'legal_metadata': LegalMetadataSchema(),
            'geo_metadata': GeoMetadataSchema(),
            'provenance': ProvenanceSchema(),
            'quality_metrics': QualityMetricsSchema()
        }

    def enrich_document_metadata(self, doc_id: str) -&gt; Dict:
        &quot;&quot;&quot;Reichert Dokument mit allen verfügbaren Metadatentypen an&quot;&quot;&quot;

        enriched = {}

        # Bibliografische Metadaten
        enriched['bibliographic'] = self.extract_bibliographic_metadata(doc_id)

        # Provenance (Datenherkunft)
        enriched['provenance'] = self.track_document_provenance(doc_id)

        # Qualitätsmetriken
        enriched['quality'] = self.calculate_quality_metrics(doc_id)

        # Semantic Web (RDF/OWL)
        enriched['semantic'] = self.generate_rdf_triples(doc_id)

        # Nutzungsstatistiken
        enriched['usage'] = self.get_usage_analytics(doc_id)

        return enriched
</code></pre>
<h3 id="43-performance-und-skalierung">4.3 Performance und Skalierung<a class="headerlink" href="#43-performance-und-skalierung" title="Permanent link">&para;</a></h3>
<p><strong>Spatial Indexing Strategy:</strong></p>
<pre><code class="language-sql">-- Multi-Level Spatial Indexing
CREATE INDEX CONCURRENTLY idx_documents_geo_country 
    ON documents USING GIST (location_point) 
    WHERE country = 'Deutschland';

CREATE INDEX CONCURRENTLY idx_documents_geo_state 
    ON documents USING GIST (location_point, state);

CREATE INDEX CONCURRENTLY idx_documents_geo_admin_level 
    ON documents (administrative_level, postal_code) 
    WHERE location_point IS NOT NULL;

-- Partitionierung nach Bundesländern
CREATE TABLE documents_by_state (LIKE documents INCLUDING ALL)
PARTITION BY LIST (state);

CREATE TABLE documents_nrw PARTITION OF documents_by_state 
    FOR VALUES IN ('Nordrhein-Westfalen');
</code></pre>
<h2 id="5-implementierungsroadmap">5. Implementierungsroadmap<a class="headerlink" href="#5-implementierungsroadmap" title="Permanent link">&para;</a></h2>
<h3 id="phase-1-grundlagen-wochen-1-2">Phase 1: Grundlagen (Wochen 1-2)<a class="headerlink" href="#phase-1-grundlagen-wochen-1-2" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ PostGIS Backend implementieren</li>
<li>✅ Geo-Extension Modul erstellen</li>
<li>✅ Basic Spatial Queries</li>
</ul>
<h3 id="phase-2-integration-wochen-3-4">Phase 2: Integration (Wochen 3-4)<a class="headerlink" href="#phase-2-integration-wochen-3-4" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ UDS3 Core Erweiterung</li>
<li>✅ Neo4j Spatial Support</li>
<li>✅ ChromaDB Geo-Embeddings</li>
</ul>
<h3 id="phase-3-features-wochen-5-6">Phase 3: Features (Wochen 5-6)<a class="headerlink" href="#phase-3-features-wochen-5-6" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ Automatische Geo-Extraktion</li>
<li>✅ Verwaltungshierarchie-Mapping</li>
<li>✅ Spatial Search API</li>
</ul>
<h3 id="phase-4-optimierung-wochen-7-8">Phase 4: Optimierung (Wochen 7-8)<a class="headerlink" href="#phase-4-optimierung-wochen-7-8" title="Permanent link">&para;</a></h3>
<ul>
<li>✅ Performance Tuning</li>
<li>✅ Erweiterte Metadaten-Pipelines</li>
<li>✅ Qualitätskontrolle</li>
</ul>
<h2 id="6-technische-anforderungen">6. Technische Anforderungen<a class="headerlink" href="#6-technische-anforderungen" title="Permanent link">&para;</a></h2>
<h3 id="software-dependencies">Software-Dependencies:<a class="headerlink" href="#software-dependencies" title="Permanent link">&para;</a></h3>
<pre><code class="language-bash">pip install psycopg2-binary postgis shapely geopy folium geopandas
</code></pre>
<h3 id="database-setup">Database-Setup:<a class="headerlink" href="#database-setup" title="Permanent link">&para;</a></h3>
<pre><code class="language-bash"># PostgreSQL + PostGIS
sudo apt install postgresql postgresql-contrib postgis

# Neo4j Spatial Plugin
# Automatisch verfügbar in Neo4j 4.0+
</code></pre>
<h3 id="configuration-server_configjson">Configuration (server_config.json):<a class="headerlink" href="#configuration-server_configjson" title="Permanent link">&para;</a></h3>
<pre><code class="language-json">{
  &quot;databases&quot;: {
    &quot;postgis&quot;: {
      &quot;enabled&quot;: true,
      &quot;host&quot;: &quot;localhost&quot;, 
      &quot;database&quot;: &quot;uds3_geo&quot;,
      &quot;user&quot;: &quot;postgres&quot;,
      &quot;password&quot;: &quot;secure_password&quot;
    },
    &quot;neo4j&quot;: {
      &quot;enabled&quot;: true,
      &quot;uri&quot;: &quot;bolt://localhost:7687&quot;,
      &quot;spatial_enabled&quot;: true
    }
  },
  &quot;geo_settings&quot;: {
    &quot;default_srid&quot;: 4326,
    &quot;geocoding_service&quot;: &quot;nominatim&quot;,
    &quot;auto_extract_location&quot;: true,
    &quot;quality_threshold&quot;: 0.7
  }
}
</code></pre>
<hr />
<p><strong>Dieses Konzept erweitert UDS3 um eine vollständige Geodaten-Dimension und macht es zur führenden Lösung für geografisch-bewusste Rechtsdokument-Verwaltung in Deutschland.</strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Zurück zum Seitenanfang
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "content.code.copy", "content.action.edit", "toc.follow"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "In Zwischenablage kopiert", "clipboard.copy": "In Zwischenablage kopieren", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.placeholder": "Suchbegriff eingeben", "search.result.term.missing": "Es fehlt", "select.version": "Version ausw\u00e4hlen"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>